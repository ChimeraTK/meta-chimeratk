From 413d8585ef58d242381f8980ed43dea160f6b227 Mon Sep 17 00:00:00 2001
From: Jens Georg <jens.georg@desy.de>
Date: Wed, 19 Apr 2023 12:38:06 +0200
Subject: [PATCH] Do not set RPATH on install

---
 CMakeLists.txt | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 6ca1371..873bd83 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -57,7 +57,6 @@ if(CMAKE_COMPILER_IS_GNUCC OR "x${CMAKE_C_COMPILER_ID}" STREQUAL "xClang")
     set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=c99")
     set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} -g")
     set(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} -O3")
-    set(CMAKE_INSTALL_RPATH_USE_LINK_PATH TRUE)
     add_definitions(-DNDEBUG)
     add_definitions(-fPIC)
     add_definitions(-Wextra)
@@ -67,8 +66,6 @@ endif()
 ## Includes, Link dirs und Quellcode
 ##########################################################################################################
 
-set(CMAKE_INSTALL_RPATH "${CMAKE_INSTALL_PREFIX}/lib")
-
 include_directories(${CMAKE_SOURCE_DIR}/include)
 include_directories(${CMAKE_SOURCE_DIR}/examples/)
 include_directories(SYSTEM ${LIBXML2_INCLUDE_DIR})
@@ -237,9 +234,6 @@ target_link_libraries(${PROJECT_NAME} PRIVATE
 
 #set_source_files_properties(${CMAKE_SOURCE_DIR}/src/open62541.c PROPERTIES COMPILE_FLAGS -w)
 
-# do not remove runtime path of the library when installing
-set_property(TARGET ${PROJECT_NAME} PROPERTY INSTALL_RPATH_USE_LINK_PATH TRUE)
-
 ##########################################################################################################
 ## Install all Libraries
 ##########################################################################################################
