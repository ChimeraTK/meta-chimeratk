From dc49e3f4c6a8583936dad6a521d24476c605d0d3 Mon Sep 17 00:00:00 2001
From: Jens Georg <jens.georg@desy.de>
Date: Fri, 15 Sep 2023 12:48:09 +0200
Subject: [PATCH] Temporarily disable bar check

---
 device_backends/uio/src/UioAccess.cc  | 8 --------
 device_backends/uio/src/UioBackend.cc | 2 --
 2 files changed, 10 deletions(-)

diff --git a/device_backends/uio/src/UioAccess.cc b/device_backends/uio/src/UioAccess.cc
index 9a84024b..1c8417f7 100644
--- a/device_backends/uio/src/UioAccess.cc
+++ b/device_backends/uio/src/UioAccess.cc
@@ -46,10 +46,6 @@ namespace ChimeraTK {
   }
 
   void UioAccess::read(uint64_t map, uint64_t address, int32_t* data, size_t sizeInBytes) {
-    if(map > 0) {
-      throw ChimeraTK::logic_error("UIO: Multiple memory regions are not supported");
-    }
-
     // This is a temporary work around, because register nodes of current map use absolute bus addresses.
     //NOLINTNEXTLINE(cppcoreguidelines-pro-type-reinterpret-cast)
     address = address % reinterpret_cast<uint64_t>(_deviceKernelBase);
@@ -62,10 +58,6 @@ namespace ChimeraTK {
   }
 
   void UioAccess::write(uint64_t map, uint64_t address, int32_t const* data, size_t sizeInBytes) {
-    if(map > 0) {
-      throw ChimeraTK::logic_error("UIO: Multiple memory regions are not supported");
-    }
-
     // This is a temporary work around, because register nodes of current map use absolute bus addresses.
     //NOLINTNEXTLINE(cppcoreguidelines-pro-type-reinterpret-cast)
     address = address % reinterpret_cast<uint64_t>(_deviceKernelBase);
diff --git a/device_backends/uio/src/UioBackend.cc b/device_backends/uio/src/UioBackend.cc
index ae4a74f4..21257c93 100644
--- a/device_backends/uio/src/UioBackend.cc
+++ b/device_backends/uio/src/UioBackend.cc
@@ -54,8 +54,6 @@ namespace ChimeraTK {
   }
 
   bool UioBackend::barIndexValid(uint64_t bar) {
-    if(bar != 0) return false;
-
     return true;
   }
 
